\begin{figure}[H]
  \fbox{
    % Provides space on the left side for the line numbers
    \begin{minipage}{0.5em}% 
    ~
    \end{minipage}
    \begin{minipage}{0.95\textwidth}
      \lstinputlisting[language=C]
        {}
      \caption{}
      \label{fig:}
    \end{minipage}
  }
  \vspace{-2ex}%
\end{figure}
